(()=>{"use strict";var e,t,n,a,o,r,c,i,s,l,u,d,m,v,f;(function(e){var t=document.getElementById("timer-hours"),n=document.getElementById("timer-minutes"),a=document.getElementById("timer-seconds"),o=function(e){return("0"+e).slice(-2)},r=function(){var e=new Date("14 March 2021").getTime(),t=(new Date).getTime(),n=t>e,a=(e-t)/1e3,r=o(Math.floor(a%60)),c=o(Math.floor(a/60%60));return{timeRemaining:a,hours:o(Math.floor(a/60/60)),minutes:c,seconds:r,fullStop:n}},c=function(){var e=r();t.textContent=e.hours,n.textContent=e.minutes,a.textContent=e.seconds};if(r().timeRemaining>0){c();var i=setInterval((function(){r().fullStop?clearInterval(i):c()}),1e3)}})(),v=document.querySelector("menu"),f=function(){v.classList.toggle("active-menu")},document.body.addEventListener("click",(function(e){var t=e.target;t.closest(".menu")||t.classList.contains("close-btn")?f():t.closest(".portfolio-content")||t.closest("footer")||(t.matches('[href^="#"]')?f():t&&!t.closest(".menu")&&v.classList.remove("active-menu"))})),function(){var e=document.querySelector(".service"),t=document.querySelector(".popup");t.style.display="block",t.style.transform="translateX(100%)";var n,a=100,o=function e(){n=requestAnimationFrame(e),--a>=0?t.style.transform="translateX(".concat(a,"%)"):cancelAnimationFrame(n)};e.addEventListener("click",(function(e){e.target.matches(".popup-btn")&&(document.body.clientWidth>768?requestAnimationFrame(o):t.style.transform="translateX(0)")})),t.addEventListener("click",(function(e){var n=e.target;n.classList.contains("popup-close")?(a=100,t.style.transform="translateX(100%)"):(n=n.closest(".popup-content"))||(a=100,t.style.transform="translateX(100%)")}))}(),function(){var e=document.querySelector("menu"),t=document.querySelector("main a"),n=function(e){var t=e.target.closest('[href^="#"]');if(t&&!t.matches('[href="#close"]')){var n,a=t.getAttribute("href").substring(1),o=document.getElementById(a).offsetTop,r=window.pageYOffset;requestAnimationFrame((function e(){n=requestAnimationFrame(e),(r+=15)<o?document.documentElement.scrollTop=r:cancelAnimationFrame(n)}))}};e.addEventListener("click",(function(e){e.preventDefault(),n(e)})),t.addEventListener("click",(function(e){e.preventDefault(),n(e)}))}(),l=document.querySelector(".service"),u=document.querySelectorAll(".service-header-tab"),d=document.querySelectorAll(".service-tab"),m=function(e){d.forEach((function(t,n){t.classList.contains("d-none")&&e===n?t.classList.remove("d-none"):t.classList.contains("d-none")||e!==n||t.classList.add("d-none")}))},l.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&u.forEach((function(e,n){e.classList.contains("active")||e!==t?e.classList.contains("active")&&e!==t&&(e.classList.remove("active"),m(n)):(e.classList.add("active"),m(n))}))})),function(){for(var e=document.querySelector(".portfolio-content"),t=document.querySelectorAll(".portfolio-item"),n=document.querySelector(".portfolio-dots"),a=0;a<t.length;a++){var o=document.createElement("li");o.classList.add("dot"),0===a&&o.classList.add("dot-active"),n.append(o)}var r,c=document.querySelectorAll(".dot"),i=0,s=function(e,t,n){e[t].classList.remove(n)},l=function(e,t,n){e[t].classList.add(n)},u=function(){s(t,i,"portfolio-item-active"),s(c,i,"dot-active"),++i>=t.length&&(i=0),l(t,i,"portfolio-item-active"),l(c,i,"dot-active")},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;r=setInterval(u,e)};e.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".portfolio-btn, .dot")&&(s(t,i,"portfolio-item-active"),s(c,i,"dot-active"),n.matches("#arrow-right")?i++:n.matches("#arrow-left")?i--:n.matches(".dot")&&c.forEach((function(e,t){e===n&&(i=t)})),i>=t.length&&(i=0),i<0&&(i=t.length-1),l(t,i,"portfolio-item-active"),l(c,i,"dot-active"))})),e.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearTimeout(r)})),e.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&d()})),d(1500)}(),function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=document.querySelector(".calc-block"),a=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-count"),c=document.querySelector(".calc-day"),i=document.getElementById("total"),s=0,l=function(){var n=0,l=1,u=1,d=a.options[a.selectedIndex].value,m=+o.value;if(r.value>1&&(l+=(r.value-1)/10),c.value&&c.value<5?u*=2:c.value&&c.value<10&&(u*=1.5),d&&m){n=t*d*m*l*u;var v=Math.round(n/100*24);e=setInterval((function(){s>=n?(clearInterval(e),i.textContent=Math.floor(n)):(s+=v,i.textContent=s)}),37)}else i.textContent=n};n.addEventListener("change",(function(t){var n=t.target;(n.matches("select")||n.matches("input"))&&(clearInterval(e),s=0,l())})),n.addEventListener("input",(function(e){e.target.matches("input")&&(e.target.value=e.target.value.replace(/\D/,""))}))}(100),i=document.getElementById("command"),s=function(e){if(e.target.closest(".command__photo")){var t=e.target.src;e.target.src=e.target.dataset.img,e.target.dataset.img=t}},i.addEventListener("mouseover",(function(e){s(e)})),i.addEventListener("mouseout",(function(e){s(e)})),t=function(e){var t=e.target;t.value=t.value.replace(/[^а-яё\s]/gi,"")},n=function(e){var t=e.target;t.value=t.value.split(/\s+/).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},a=function(e){var t=e.target;t.value=t.value.replace(/[^a-z0-9@\-_.!~*']/gi,"")},o=function(e){var t=e.target;t.value=t.value.replace(/^[\s-]+|[\s-]+$/gi,"").replace(/-+/g,"-")},r=function(e){var t=e.target;t.value=t.value.replace(/[^+\d]/g,"")},c=function(e){var t=e.target;t.value=t.value.replace(/^[\s]+|[\s\+]{1,}$/g,"")},document.body.addEventListener("click",(function(e){var i=e.target;i.matches('[placeholder="Ваше имя"]')?(i.addEventListener("input",t),i.addEventListener("blur",n)):i.matches('[placeholder~="E-mail"]')?(i.addEventListener("input",a),i.addEventListener("blur",o)):i.matches('[placeholder*="телефон"]')&&(i.addEventListener("input",r),i.addEventListener("blur",c))})),(e=document.getElementById("form2-message")).addEventListener("input",(function(){e.value=e.value.replace(/[^а-яё\d\s\-\?;:,.!]/gi,"")})),e.addEventListener("blur",(function(){e.value=e.value.trim().replace(/\s+/g," ").replace(/-+/g,"-")})),function(){var e=document.createElement("div");e.style.cssText="font-size: 2rem; color: #ffffff";document.body.addEventListener("submit",(function(t){t.preventDefault(),function(t){t.appendChild(e),e.textContent="Загрузка...";var n=new FormData(t);t.reset();var a=function(){setTimeout((function(){return e.remove()}),5e3)};(function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"multipart/form-data"},body:e})})(n).then((function(t){if(200!==t.status)throw new Error("Status network not 200");e.textContent="Спасибо! Мы скоро с Вами свяжемся!",a()})).catch((function(t){e.textContent="Что-то пошло не так...",console.error(t),a()}))}(t.target)}))}()})();